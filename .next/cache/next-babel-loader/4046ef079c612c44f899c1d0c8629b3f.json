{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../credentials.json';\nconst doc = new GoogleSpreadsheet('1g9vwNQMbh1YADO14sN_-0R7qFvF9wM3EBQJJHjs82Ug');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[1];\n    const data = JSON.parse(req.body);\n    await sheet.addRow({\n      Nome: data.Nome,\n      Email: data.Email,\n      WhatsApp: data.WhatsApp,\n      Cupom: 'cupom meu ovo',\n      Promo: 'promo meu zeggs'\n    });\n  } catch (error) {\n    res.end(JSON.stringify({\n      showCoupon: false,\n      message: 'error'\n    }));\n  }\n});","map":{"version":3,"sources":["/home/viniciusms1/Projetos/devpleno/palpite-box/pages/api/save.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","data","JSON","parse","body","addRow","Nome","Email","WhatsApp","Cupom","Promo","error","end","stringify","showCoupon","message"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ;AAEA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAI;AACF,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AAEA,UAAMC,KAAK,GAAGL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACS,IAAf,CAAb;AAEA,UAAML,KAAK,CAACM,MAAN,CAAa;AACjBC,MAAAA,IAAI,EAAEL,IAAI,CAACK,IADM;AAEjBC,MAAAA,KAAK,EAAEN,IAAI,CAACM,KAFK;AAGjBC,MAAAA,QAAQ,EAAEP,IAAI,CAACO,QAHE;AAIjBC,MAAAA,KAAK,EAAC,eAJW;AAKjBC,MAAAA,KAAK,EAAC;AALW,KAAb,CAAN;AAOD,GAdD,CAcE,OAAOC,KAAP,EAAc;AACdf,IAAAA,GAAG,CAACgB,GAAJ,CAAQV,IAAI,CAACW,SAAL,CAAe;AACrBC,MAAAA,UAAU,EAAE,KADS;AAErBC,MAAAA,OAAO,EAAE;AAFY,KAAf,CAAR;AAID;AACF,CArBD","sourcesContent":["import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../credentials.json';\n\nconst doc = new GoogleSpreadsheet('1g9vwNQMbh1YADO14sN_-0R7qFvF9wM3EBQJJHjs82Ug');\n\nexport default async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n\n    const sheet = doc.sheetsByIndex[1];\n    const data = JSON.parse(req.body);\n    \n    await sheet.addRow({\n      Nome: data.Nome,\n      Email: data.Email,\n      WhatsApp: data.WhatsApp,\n      Cupom:'cupom meu ovo',\n      Promo:'promo meu zeggs'\n    })\n  } catch (error) {\n    res.end(JSON.stringify({\n      showCoupon: false,\n      message: 'error'\n    }))\n  }\n}"]},"metadata":{},"sourceType":"module"}